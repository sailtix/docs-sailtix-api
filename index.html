<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sailtix API Documentation</title>
    <!-- Redoc CDN -->
    <script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        #redoc-container {
            height: 100vh;
        }
        .version-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            padding: 15px;
            border: 1px solid #e1e5e9;
        }
        .version-selector h3 {
            margin: 0 0 10px 0;
            font-size: 14px;
            color: #333;
            font-weight: 600;
        }
        .version-btn {
            display: block;
            width: 100%;
            padding: 8px 12px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: white;
            color: #333;
            text-decoration: none;
            font-size: 13px;
            text-align: center;
            transition: all 0.2s ease;
        }
        .version-btn:hover {
            background: #f8f9fa;
            border-color: #667eea;
        }
        .version-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        .version-btn.v2 {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }
        .version-btn.v2:hover {
            background: #218838;
        }
        .version-btn.v1 {
            background: #6c757d;
            color: white;
            border-color: #6c757d;
        }
        .version-btn.v1:hover {
            background: #5a6268;
        }
        .changelog-link {
            background: #ffc107;
            color: #212529;
            border-color: #ffc107;
        }
        .changelog-link:hover {
            background: #e0a800;
        }
    </style>
</head>
<body>
    <div class="version-selector">
        <h3>API Version</h3>
        <a href="#" class="version-btn v2 active" onclick="loadAPI('v2')">ðŸš€ v2.0.0 (Current)</a>
        <a href="#" class="version-btn v1" onclick="loadAPI('v1')">ðŸ“– v1.x (Legacy)</a>
        <a href="CHANGELOG-v2.md" class="version-btn changelog-link" target="_blank">ðŸ“‹ Changelog</a>
        <a href="swagger.html" class="version-btn" style="background: #17a2b8; color: white; border-color: #17a2b8;">ðŸ”§ Swagger UI</a>
    </div>
    
    <div id="redoc-container"></div>
    
    <script>
        let currentVersion = 'v2';
        
        function loadAPI(version) {
            currentVersion = version;
            
            // Update active button
            document.querySelectorAll('.version-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Load appropriate API spec
            const specUrl = version === 'v2' ? 'openapi-v2.yaml' : 'openapi.yaml';
            
            Redoc.init(specUrl, {
                scrollYOffset: 50,
                hideDownloadButton: false,
                hideHostname: false,
                hideInfoSection: false,
                hideLoading: false,
                hideSchemaPattern: false,
                hideSingleRequestSampleTab: false,
                expandResponses: "200,201",
                expandSingleSchemaField: false,
                jsonSampleExpandLevel: 2,
                menuToggle: true,
                nativeScrollbars: false,
                noAutoAuth: false,
                pathInMiddlePanel: false,
                requiredPropsFirst: false,
                scrollYOffset: 0,
                showExtensions: false,
                showObjectSchemaExamples: true,
                sortPropsAlphabetically: false,
                suppressWarnings: false,
                theme: {
                    colors: {
                        primary: {
                            main: '#667eea'
                        }
                    },
                    typography: {
                        fontSize: '14px',
                        lineHeight: '1.5em',
                        code: {
                            fontSize: '13px',
                            fontFamily: 'Courier, monospace',
                            fontWeight: '400',
                            color: '#e83e8c',
                            backgroundColor: 'rgba(0,0,0,0.05)',
                            borderRadius: '3px',
                            padding: '3px 5px'
                        },
                        headings: {
                            fontFamily: 'Inter, sans-serif',
                            fontWeight: '600'
                        }
                    },
                    sidebar: {
                        backgroundColor: '#fafafa',
                        textColor: '#333333'
                    }
                }
            }, document.getElementById('redoc-container'));
        }
        
        // Load v2 by default
        loadAPI('v2');
    </script>
</body>
</html>
